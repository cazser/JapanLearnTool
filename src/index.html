<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Document</title>
</head>

<body>
    <h1>练习</h1>
    <p>填写对应的日语</p>
    <form id="form">
        <span id="prompt">中国人</span>
        <input id="input" type="text">
        <button>提交</button>
    </form>
    <div role="alert" id="toast" class="toast" >
        <div class="weui-mask_transparent"></div>
        <div class="weui-toast">
            <i class="weui-icon-success-no-circle weui-icon_toast"></i>
            <p class="weui-toast__content">正确</p>
        </div>
    </div>

    <div role="alert" id="errorToast" class="toast" >
        <div class="weui-mask_transparent"></div>
        <div class="weui-toast weui-toast_text-more">
            <i class="weui-icon-warn weui-icon_toast"></i>
            <p class="weui-toast__content">错误</p>
        </div>
    </div>
    <details open>
    <summary>
        五十音图
    </summary>
    <ol class="inputPad" id="inputPad">
        <li>あ</li>
        <li>い</li>
        <li>う</li>
        <li>え</li>
        <li>お</li>
        <li>か</li>
        <li>き</li>
        <li>く</li>
        <li>け</li>
        <li>こ</li>
        <li>さ</li>
        <li>し</li>
        <li>す</li>
        <li>せ</li>
        <li>そ</li>
        <li>た</li>
        <li>ち</li>
        <li>つ</li>
        <li>て</li>
        <li>と</li>
        <li>な</li>
        <li>に</li>
        <li>ぬ</li>
        <li>ね</li>
        <li>の</li>
        <li>は</li>
        <li>ひ</li>
        <li>ふ</li>
        <li>へ</li>
        <li>ほ</li>
        <li>ま</li>
        <li>み</li>
        <li>む</li>
        <li>め</li>
        <li>も</li>
        <li>や</li>
        <li>ゆ</li>
        <li>ら</li>
        <li>り</li>
        <li>る</li>
        <li>れ</li>
        <li>ろ</li>
        <li>わ</li>
        <li>を</li>
        <li>ん</li>
        <li>っ</li>
        <li>ア</li>
        <li>イ</li>


    </ol>
    
    </details>
<script>


    function getRandomInt(max) {
  return Math.floor(Math.random() * max);
}
    let words = {
        'ちゅうごくじん':"中国人",
        'ちゅうごくじ':"中国人",
        'にほんじん': "日本人",
        'かんこくじん':'韩国人',
        'アメリかじん':'美国人',
        'がくせい':'学生',
        'せんせい':'老师',
        'フランスじん':"法国人",
        'りゆうがくせい':'留学生',
        'きょうじゅ':'教授',
        'わたし': '我',
        'しょくいん':"职员",
        'かいしょくいん':'公司职员',
        'てんいん':'店员',
        'けんしゅうせい':"研修生",
        'きぎょう':'企业',
        'だいがく':'大学',
        'かちょう':"科长",
        'しゃちょう':'社长',
        'でむかえ':"迎接",
        "あのひと":"那个人",
        'あなた':"你",
        "はい":"是",
        "いいえ":"不是",
        "あっ":"哎呀",
        'ちゅうごく':"中国",
        'すみません':"对不起，请问",
        'どうぞ':'请',
           
    }
    const inputPad = document.querySelector("#inputPad");
   
    let form = document.querySelector("#form");
    let prompt = document.querySelector("#prompt");
    let input = document.querySelector("#input");
     inputPad.addEventListener("click", (e)=>{
        input.value += (e.target.textContent);
        
    })
    
    form.addEventListener("submit", (e)=>{
        
        if(words[input.value] === prompt.textContent){
            let toast = document.querySelector("#toast");
            toast.classList.remove("toast");
            const synUtterance = new window.SpeechSynthesisUtterance();
            synUtterance.text = input.value;
            synUtterance.lang = "ja-JP";
            synUtterance.pitch = 2; //音调高低0～2，默认1
            synUtterance.rate = 1;
            window.speechSynthesis.speak(synUtterance);
           setTimeout(()=>{
                toast.classList.add("toast")
            },300)    
        }else{ 
            let toast = document.querySelector("#errorToast"); 
             toast.classList.remove("toast");
            setTimeout(()=>{
                toast.classList.add("toast")
            },300)   
           // console.log("no")
        }
        const keys =  Object.keys(words);
        let random = getRandomInt( keys.length);
        prompt.textContent =words[ keys[random]];
        input.value ="";
        e.preventDefault();
    })
</script>
</body>
</html>